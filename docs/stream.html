  <html>

<head>
	<meta charset="utf-8">
  <link rel="stylesheet" href="fonts/font.css">
	<style>
    /*
    import url( fonts/font.css );  
     */
		body {
			margin: 0;
			background-color: #012;
			color: #CEF;
      display: flex;
      flex-flow: row-reverse nowrap;
      min-width: 900px;
		}  
    .primary {
//      border: none;
      border: solid 1px;
      height: 100%;
    }
    .secondary {
      border: none;
//      border: dashed 1px;
    }
    .presentation {
      color: blue;
      min-width: 36%;
      flex: 1;
      display: flex;
      flex-flow: row-reverse wrap;
      justify-items: stretch;
      justify-content: space-between;
    }
    .slides {
      flex-basis: 100%;
      color: pink;
      height: 45%; 
    }
    .slides iframe {
      width: 100%;
      height: 100%;
    }
    .controls {
      width: 85px;
    }
    .controlset {
      position: absolute;
      bottom: 5px;
      height: 150px;
    }
    .controlset button {
      display: block;
      width: 75px;
      height: 75px;
      font-size: 60px;
      font-family: EmojiOneColor;
			background-color: #012;
			color: #CEF;
    }
    .controlset button.active {
      color: #012;
			background-color: #CEF;
      filter: drop-shadow(0 0 5px #CCF);
    }
    .meeting {
      color: violet;
      height: 54%;
      min-width: 80%;
    }
    .editor {
      color: green;
      align-self: stretch;
      flex: 2;
      // width: 70%;
    }
    .editor .secondary {
      // display: block;
      height: 100%;
    }
    .editor .secondary iframe {
      width: 100%;
      height: 100%;
    }
    section.shared {
      // position: absolute;
      color: red;
      // top: 1px;
      // left: 1px;
      display: none;
    }
    section.solo {
      // position: absolute;
      color: orange;
      // top: 1px;
      // left: 1px;
      display: none;
    }
    section.active {
      display: block;
    }

/*
		.panel {
			float: left;
			border: solid 1px;
			width: 70%;
			height: 99%;
		}

		.panel.right {
			width: 28%;
		}

    span.panel {
      display: block;
    }
    */
	</style>
  <script type="text/javascript">
  /*
    -- Params List --
    JitsiRoom
    SlidesPath
    EditorMultiFragment
    EditorSoloFragment
  */
    var oParams = {}, oURLObj = (new URL(location)).searchParams.entries();
    for ( var x of oURLObj ) oParams[ x[0] ] = x[1];
    console.log( oParams );
  </script>
	<script src='https://meet.jit.si/external_api.js'></script>
</head>

<body>
  <section class="primary presentation">
    <section class="secondary slides">
      <iframe src="slides.html"></iframe>
      <script>
        if ( "SlidesPath" in oParams ) document.querySelector(".slides iframe").src = oParams.SlidesPath;
      </script>
    </section>
    <section class="secondary meeting">
    </section>
    <script>
        var sRoomName = (( "JitsiRoom" in oParams )? oParams.JitsiRoom : "ceilingrat-foobar-1");
        var oMeetOptions = {
          height : "100%", 
          parentNode : document.querySelector(".meeting"),
          roomName : sRoomName
        };
        var oMeetAPI = new JitsiMeetExternalAPI( "meet.jit.si", oMeetOptions);
    </script>
    <section class="secondary controls">
      <div class="controlset">
        <button class="shared active" >ðŸ‘¥</button>
        <button class="solo" >ðŸ‘¤</button>
        <script>          
          function fnButtonHandler ( oEvent ) {
            var oSrcButton = oEvent.target;
            if ( oSrcButton.classList.contains("active") ) return;
            var sSrcClass = oSrcButton.classList[0];
            [ "shared", "solo" ].forEach(
              function ( sClass ) {
                document.querySelectorAll("." + sClass).forEach(
                  function ( oNode ) {
                    oNode.classList[ ( (sClass == sSrcClass) ? "add" : "remove" ) ]("active");
                  }
                );
              }
            );
          }
          document.querySelectorAll(".controlset button").forEach( function(x) { x.onclick = fnButtonHandler; } );
        </script>
      </div>
    </section>
  </section>
  <section class="primary editor">
    <section class="secondary shared active">
      <iframe  src="https://replit.com/@ceilingrat/git-good?embed=true"></iframe>
      <script>
        if ( "EditorMultiFragment" in oParams ) document.querySelector(".shared iframe").src = "https://replit.com/" + oParams.EditorMultiFragment + "?embed=true";
      </script>
    </section>
    <section class="secondary solo">
      <iframe  src="https://replit.com/@dnrtc/EngCafeLogo?embed=true"></iframe>
      <script>
        if ( "EditorSoloFragment" in oParams ) document.querySelector(".shared iframe").src = "https://replit.com/" + oParams.EditorSoloFragment + "?embed=true";
      </script>
    </section>
  </section>
<!--
  <br clear="all">
  <a href="javascript:void (oMeetOptions.roomName = prompt('edit room name',oMeetOptions.roomName));">change room name</a><br>
  <a href="javascript:void (oMeetAPI = new JitsiMeetExternalAPI( 'meet.jit.si', oMeetOptions));">launch meeting</a><br>
  <input type="password" id="streamkey" value ="re_2883045_1402f17d57879cb68ad8" size="30"></input>
  <input type="text" id="streamID" value="foobar-1" size="15"></input>with
  <a href="javascript:void ( console.log( oMeetAPI.executeCommand('startRecording', { mode : 'stream', rtmpStreamKey : 'rtmp://live.restream.io/live/' + streamkey.value, rtmpBroadcastID: streamID.value }) ))">start stream</a><br>
  <a href="javascript:void ( console.log( oMeetAPI.executeCommand('startRecording', { mode : 'stream' }) ))">end stream</a>

  <br clear="all">
  <iframe src="https://excalidraw.com/#room=814b8df86ac50712f57d,GkHKKTBMAKyE2RhDJ_gDeQ" style="width:75%; height:98%;"></iframe>
-->
  </body>
</html>